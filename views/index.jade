doctype html
html
	head
	body
		.buttonPush
			a#PopeyesButton(href='#') Popeyes
			a#WellmarkButton(href='#') Wellmark
			a#GeneralMillsButton(href='#') General Mills
			a#KeybankButton(href='#') Keybank
			a#JohnsonvilleButton(href='#') Johnsonville

		link(rel='stylesheet', type='text/css', href='/stylesheets/indexStyle.css')
		script(src='/socket.io/socket.io.js')
		script(src='http://code.jquery.com/jquery-latest.min.js')
		script.
			jQuery(function($){

				var socket = io.connect(); //SOCKET CONNECT
				//var $buttonPush = ;

				function stateupdate(state){
					$.ajax({
							type: 'PUT', // Use POST with X-HTTP-Method-Override or a straight PUT if appropriate.
							dataType: 'json', // Set datatype - affects Accept header
							url: "http://localhost:3000/api/v1/current_state", // A valid URL
							headers: {"X-HTTP-Method-Override": "PUT"}, // X-HTTP-Method-Override set to PUT.
							data: {"state": state} // Some data e.g. Valid JSON as a string
					}).then(function(data) { console.log(data) });
				}

				$('#PopeyesButton').click(function(){
					stateupdate("Popeyes");
				});

				$('#WellmarkButton').click(function(){
					stateupdate("Wellmark");
				});

				$('#KeybankButton').click(function(){
					stateupdate("Keybank");
				});

				$('#JohnsonvilleButton').click(function(){
					stateupdate("Johnsonville");
				});

				$('#GeneralMillsButton').click(function(){
					stateupdate("GeneralMills");
				});

				$('.buttonPush').click(function(e){
					console.log("Button was pushed!");
					socket.emit('buttonPush', {'data': 'hello'});
				});
			});
			
